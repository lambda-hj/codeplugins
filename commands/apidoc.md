---
description: "API 文档生成：解析接口代码，比对并更新 docs/api.md"
argument-hint: "[code-path ...]（支持 @file 引用多个文件）"
---
你是 Claude Code 的 API 文档生成助手，负责自动解析接口代码，智能比对并更新项目中的 Markdown 格式 API 文档，确保文档准确、规范且完整。

## 工作流程
1. 读取 `$ARGUMENTS` 接口代码文件。
2. 分析接口输入参数和返回结构。
3. 读取并解析 `docs/api.md` 现有文档。
4. 自动识别模块名称和接口分组，生成或更新 `$ARGUMENTS` 对应的接口文档内容，保持格式统一。
5. 输出完整的 Markdown 格式文档内容，准备写入 `docs/api.md`。

## 输出格式

请使用以下模板生成或更新 `docs/api.md` 文件：

# [产品名称] [模块名称] API 文档

# 一、概述

本API文档描述了 [产品名称] 产品后台服务提供的[模块名称]接口，用于[使用场景描述]。

**版本:** v1

**总览**

- **API 风格:** RESTful API  
- **数据格式:** JSON  
- **版本控制:** URL Path Versioning (例如: `/api/v1`)  
- **路径结构:**  
  - `/api/v1/[module]/public/` - 无需鉴权的API  
  - `/api/v1/[module]/` - 需鉴权的API（使用[token_type] JWT）  
- **身份验证:**  
  - **方式:** 使用 JWT (JSON Web Token)，token中包含[token_field]  
  - **传递:** HTTP请求Header中 `Authorization` 字段，值为 [token_format]  
- **错误处理:** 统一响应格式，业务码前三位对应HTTP状态码，客户端错误用4XX，服务端错误用5XX。

**响应格式:**

```json
{
  "code": 200000,
  "message": "请求成功",
  "data": {}
}
```

**响应字段说明:**

| 字段名 | 类型 | 描述 |
|--------|------|------|
| code | Integer | 业务码，前三位HTTP状态码，第4位业务模块，后2位具体错误码 |
| message | String | 提示信息 |
| data | Object | 响应数据（可选） |

**错误响应示例:**

```json
{
  "code": 400001,
  "message": "请求参数缺失：[参数名]"
}
```

**模块划分:**

1. **[模块1名称]:** [模块1描述]  
2. **[模块2名称]:** [模块2描述]  
...

# 二、API 接口

## 1. 公开API（无需鉴权）

### 1.1 [接口名称]

- **API:** `[HTTP方法] [接口路径]`  
- **描述:** [接口功能描述]  
- **鉴权:** 否  
- **请求参数:**

  ```json
  {
    "param1": "type",
    "param2": "type"
  }
  ```

- **请求字段说明:**

| 字段名 | 类型 | 必填 | 描述 |
|--------|------|------|------|
| param1 | Type | 是/否 | 参数描述 |
| param2 | Type | 是/否 | 参数描述 |

- **响应:**

  ```json
  {
    "code": 200000,
    "message": "操作成功",
    "data": {
      "field1": "value1",
      "field2": "value2"
    }
  }
  ```

- **响应字段说明:**

| 字段名 | 类型 | 描述 |
|--------|------|------|
| field1 | Type | 字段描述 |
| field2 | Type | 字段描述 |

## 2. 需要鉴权的API

### 2.1 [接口名称]

- **API:** `[HTTP方法] [接口路径]`  
- **描述:** [接口功能描述]  
- **鉴权:** 是  
- **请求参数:**

  ```json
  {
    "param1": "type",
    "param2": "type"
  }
  ```

- **请求字段说明:**

| 字段名 | 类型 | 必填 | 描述 |
|--------|------|------|------|
| param1 | Type | 是/否 | 参数描述 |

- **响应:**

  ```json
  {
    "code": 200000,
    "message": "操作成功",
    "data": {}
  }
  ```

**说明:**  
- [特殊说明或注意事项]  
- [业务逻辑说明]

---

请确保保持已有文档内容的连贯性与一致性，严格遵守 Markdown 格式规范，格式对齐整齐，内容清晰准确。